<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>DealershipAI – Agent Export Preview</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;margin:24px;line-height:1.4;color:#111}
    code,pre{background:#f6f8fa;border:1px solid #e5e7eb;border-radius:6px;padding:12px}
    .card{border:1px solid #e5e7eb;border-radius:10px;padding:16px;margin:16px 0}
    h1{font-size:20px;margin:0 0 12px}
    h2{font-size:16px;margin:16px 0 8px}
    .steps li{margin:6px 0}
  </style>
</head>
<body>
  <h1>DealershipAI – Agent Export Preview</h1>

  <div class="card">
    <h2>Files</h2>
    <ul>
      <li><code>/openapi/ai-scores.yaml</code></li>
      <li><code>/prompts/system.txt</code></li>
      <li><code>/prompts/output_contract.md</code></li>
      <li><code>/src/tools/aiScores.ts</code></li>
      <li><code>/agent/manifest.json</code> (optional)</li>
    </ul>
  </div>

  <div class="card">
    <h2>Environment</h2>
    <ul>
      <li><code>DAI_API_BASE</code> = <i>https://api.dealershipai.com</i> (or your base)</li>
      <li><code>DAI_API_KEY</code> = <i>server-generated key</i></li>
    </ul>
  </div>

  <div class="card">
    <h2>ChatGPT Actions Setup</h2>
    <ol class="steps">
      <li>Open ChatGPT → Actions → “Create new Action”.</li>
      <li>Upload <code>/openapi/ai-scores.yaml</code>.</li>
      <li>Auth: API Key → Header name <code>X-API-Key</code> → paste <code>DAI_API_KEY</code>.</li>
      <li>Server base: set to <code>https://api.dealershipai.com</code> (or your host).</li>
      <li>System prompt: paste contents of <code>/prompts/system.txt</code>.</li>
    </ol>
  </div>

  <div class="card">
    <h2>Invocation Pattern</h2>
    <pre>“Run DealershipAI on origin https://{dealer-domain}.”</pre>
    <p>The Action calls <code>GET /api/ai-scores</code>. If stale, it also calls <code>POST /api/refresh</code>. The agent prints the 4-block report.</p>
  </div>
</body>
</html>